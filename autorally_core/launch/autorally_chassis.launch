<launch>
  <include file="$(find autorally_core)/launch/hardware.machine" />

  <node pkg="nodelet" type="nodelet" name="autorally_chassis" args="load autorally_core/autorally_chassis autorally_core_manager" machine="autorally-master" output="screen">

    <param name="servoCommandRate" value="75" />
    <param name="servoCommandMaxAge" value="0.2" />

    <rosparam param="servos" command="load" file="$(env AR_CONFIG_PATH)/arChassisConfig_$(env AR_CHASSIS).yaml" />
    <!-- <rosparam param="throttleCalibration" command="load" file="$(env AR_CONFIG_PATH)/throttlePositionCalibration.yaml" /> -->

    <rosparam param="servoCommandProirities" command="load" file="$(env AR_CONFIG_PATH)/servoCommandPriorities.yaml" />
    <!--configure settings for 57600 baud, 8N1 -->
    
    <param name="port" value="/dev/arChassis" />
    <param name="serialBaud" value="115200" />
    <param name="serialDataBits" value="8" />
    <param name="serialParity" value="none" />
    <param name="serialStopBits" value="1" />
    <param name="serialHardwareFlow" value="false" />
    <param name="serialSoftwareFlow" value="false" />
  </node>

</launch>
